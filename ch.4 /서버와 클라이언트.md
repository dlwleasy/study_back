< 서버와 클라이언트 이해 >
포트번호.할당 추가 공부 필요
네트워크 1-5
000-서버 정리

<서버와 클라이언트 3가지 경우 살펴보기> 

1. 네트워크에서의 **서버 - 클라이언트** 관계 
   서버 : 서비스를 **제공**, 클라이언트 : 서비스를 **받음**'
   
- 트랙픽 처리 
01) 로드 밸런싱 
: 고객을 분산시켜 서버 균형 맞추는 작업 (스위치 : 어떤 서버로 보낼지 소프트웨어적으로 해결)

02) 캐시 
: 비용이 큰 작업의 결과를 저장해둔 다음, 비용이 작은 결과물로 처리

+) 애플리케이션,소스코드에서도 서버와 클라이언트 관계가 존재함.
네트워크에서 서버와 클라이언트는 물리적인 장치간의 관계이다.
네트워크로 연결된 두 장치사이에서는 실제 유의미한 트래픽을 주고 받는 애플리케이션이 실행된다.

트래픽 : 데이터의 이동 흐름, 양.
물리적 관계:이 두 장치가 실제로 네트워크(유선 또는 무선)를 통해 서로 연결.

예시로 이해하기: pc에 구글 크롬을 띄웠다고 생각해보자.
사용자에 의한 이벤트를  요청 필요0 이벤트 / 요청 필요x 이벤트로 구분할 수 있다.
후자의 경우 클라이언트 애플리케이션에서 요청 없이 실행하나
전자의 경우 서버에 요청하여 실행이 되며 
서버 애플리케이션 또한 요청이 없을때도 대기, 백그라운드 작업 등 작업을 하며 완전히 쉬는 상태는 아니다.

소스코드에서의 관계
: 서버 코드의 변경이 클라이언트 코드의 변경을 유발하면 "의존관계" 라고 한다.
코드간에 서버와 클라이언트가 존재할 경우 "의존관계"라고 부르며 무엇에 의해서 코드를 수정해야 되는 경우 쉽게 찾을 수 있다.





<브라우저와 서버 : 웹 브라우저와 웹 서버가 어떻게 통신하는지 그 원리 알아보기>
이전에는 서버와 클라이언트, 이 관계가 무엇인지 파악

웹 브라우저 <-> 웹 서버 
웹 브라우저와 웹 애플리케이션의 차이점?
웹 브라우저 → 도서관 사서: 사용자가 원하는 웹 애플리케이션(책)을 서버(서고)에서 가져와 제공.
웹 애플리케이션 → 특정 도서: 사용자가 직접 상호작용하며 필요한 정보를 얻거나 작업 수행.
웹 브라우저 >> 웹 애플리케이션 


예시로 이해하기

우리가 검색창에 url을 입력시, 요청해야 되는데 어떤 서버인지 모르니까 ip주소를 받아야겠지
-> 도메인 네임을 ip주소로 변경시켜주는 DNS서버 조회
->> cmd에서 확인가능 
이렇게 해서 ip주소를 얻는다. (이는 자동으로 해줌 dns에 연결하는거)
그러면 이제 ip주소로 원하는 서버에 접속할 수 있겠지? 
이 주소를 가지고 클라이언트는 출발해서 (주소지를 갖고) 와이파이 전파나 랜선을 타고 공유기를 거쳐 인터넷 구간을 지난다.
이 인터넷에는 라우터가 중간중간에 있고, 라우터는 ip주소 기반으로 다음 경로를 안내해준다(라우터 접속)
그런 안내(현지인)의 안내를 받아 원하는 웹서버에 도달한 클라이언트의 요청은 웹서버에서 실행중인 웹서버 애플리케이션에 전달된다.(도착완료)
그럼 이제 답장을 해준다(응답) HTMl을 요청했으니 이 문서 전달
왔던길로 ->> 전달받으면 개발자 도구에서 확인가능 
(응답 도착) : 그러면 마지막으로 이 것을 웹 페이지에 렌더링하면 우리가 원하는 웹을 볼 수 있게 되는것이다.

-위의 클라이언트 역할 모두가 웹 브라우저의 역할 
웹 브라우저란?
역할 : HTML문서,사진,동영상파일 등 다양한 요소들을 종합하여 보여줌 = "렌더링"
 1. 도메인 네임 입력시 dns -> ip 변환
 2. 사용자의 액션에 따른 요청 보냄(웹어플리케이션에)
 3. 응답을 받아 화면에 렌더링 
(어떻게 동작하는지 추후에 찾아보기)

keyword 
- 요청과 응답
- ip주소 

IP주소란?
네트워크상에서의 주소
(.)기준 4개의 숫자 조합으로 구성. 0~255 존재함.
-> 확인방법 : 네이버 검색가능 -> 인터넷 서비스 제공업체에서 제공, 공유기에 할당한 주소라서 모든 기기들이 같은 주소를 갖게 됨.
사설ip주소를 알고 싶다면, 명령 프롬프트를 열고 'ipconfig'라고 입력하면 알 수 있음.


- 공인 : 집 공유기. 외부에서 접근  - 사설 : 공유기에 연결된 기기 :: 각각 43억개 
: ip주소의 경우 물리적인 요소만(네트워크 장치) 구분이 가능하기에 "포트"도입

사설 IP 주소를 가진 클라이언트도 공유기를 통해 인터넷에 접속할 수 있으며, 
외부와 통신할 때는 공인 IP 주소를 사용

로컬호스트 : 127.0.0.1 
127.0.0.1은 항상 자기 자신을 가리키도록 네트워크 표준에서 정해져 있음.
DNS서버를 거치지 않고서도 운영체제 내부에서 처리됨 
그리고 이는 네트워크를 거치지 않고도 웹 페이지를 확인할 수 있음  ->
?? 네트워크를 거치지 않고 pc안에 서버가 있어서 내부에서 처리할 수 있다는건데 그러면 모든 서버가 내부에 있어야 되는거 아닌가? 그게 성립하나? 그러면
항상 빠르게 이 안에 있는 서버 이용하지 왜 

공유기가 사설IP와 공인IP의 연결을 관리하고, 누가 어떤 데이터를 주고 받는지 알고 있음. 이를 가능하게 하는 핵심기술이 NAT

포트란 ?
애플리케이션 구분가능한 번호 주어짐
3가지 종류 : well known / 등록된/  동적 

웹 브라우저는 포트 번호를 명시적으로 적어 주지 않아도 "해당 프로토콜의 기본 포트"를 요청에 추가해준다. HTTP의 경우 80 인데, 그럼
웹 브라우저에 다양한 웹 애플리케이션이 있다면 어떻게 핵해결하는가 다 80이면 결국 애플리케이션을 구분하지 못 하지 않는가 -> 웹 호스트 이용해서 구분함 
어쨌든 웹 브라우저는 기본값으로 80을 받아 포트번호80으로 설정해서 전달이 된다.



애플리케이션 서버 = WAS  
사용자의 요청에따라 어떤 로직을 실행
로직 결과에 맞춰서 서버에 없던 콘텐츠 생성 후 응답

4.HTML문서 전달
:웹 **서버** 애플리케이션은 클라이언트 요청에 해당하는 HTML문서를 응답으로 줌 

5.서버와 서버. 기타클라이언트
postman : 개발과정에서 api를 테스트하기 위한 tool, gui제공,http요청.응답 받음
curl : 명령어 제공, 명령어로 제어하는게 편리한 경우 사용 


